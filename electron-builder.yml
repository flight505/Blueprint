# electron-builder configuration
# https://www.electron.build/configuration/configuration

appId: com.flight505.blueprint
productName: Blueprint
copyright: Copyright Â© 2026 Jesper Vang

# Build output directory
directories:
  output: dist
  buildResources: assets

# Files to include in the app
files:
  - "!**/.git"
  - "!**/node_modules/*/{CHANGELOG.md,README.md,readme.md,LICENSE,license,NOTICE}"
  - "!**/node_modules/.cache"
  - "!**/.vscode"
  - "!**/.idea"
  - "!**/e2e"
  - "!**/*.{md,txt}"
  - "!forge.config.ts"
  - "!vite.*.config.ts"
  - "!tsconfig*.json"
  - "!playwright.config.ts"
  - .vite/build/**/*
  - package.json

# Use ASAR archive for faster loading and security
asar: true
asarUnpack:
  # Native modules need to be unpacked
  - "node_modules/better-sqlite3/**/*"

# macOS configuration
mac:
  category: public.app-category.developer-tools
  target:
    - target: dmg
      arch:
        - x64
        - arm64
    - target: zip
      arch:
        - x64
        - arm64
  icon: assets/icon.icns
  hardenedRuntime: true
  gatekeeperAssess: false
  entitlements: build/entitlements.mac.plist
  entitlementsInherit: build/entitlements.mac.plist

# DMG configuration
dmg:
  sign: false
  contents:
    - x: 130
      y: 220
    - x: 410
      y: 220
      type: link
      path: /Applications

# Windows configuration
win:
  target:
    - target: nsis
      arch:
        - x64
    - target: portable
      arch:
        - x64
  icon: assets/icon.ico
  publisherName: Jesper Vang

# NSIS installer configuration
nsis:
  oneClick: false
  perMachine: false
  allowToChangeInstallationDirectory: true
  deleteAppDataOnUninstall: true
  installerIcon: assets/icon.ico
  uninstallerIcon: assets/icon.ico
  installerHeaderIcon: assets/icon.ico

# Linux configuration
linux:
  target:
    - target: AppImage
      arch:
        - x64
    - target: deb
      arch:
        - x64
    - target: rpm
      arch:
        - x64
  category: Development
  icon: assets/icon.png
  maintainer: jesper_vang@me.com
  vendor: Jesper Vang

# AppImage configuration
appImage:
  artifactName: "${productName}-${version}-${arch}.AppImage"

# Deb configuration
deb:
  depends:
    - libgtk-3-0
    - libnotify4
    - libnss3
    - libxss1
    - libxtst6
    - xdg-utils
    - libatspi2.0-0
    - libuuid1

# RPM configuration
rpm:
  depends:
    - gtk3
    - libnotify
    - nss
    - libXScrnSaver
    - libXtst
    - xdg-utils
    - at-spi2-atk
    - libuuid
